Instancias generales

1. Elecci�n de biblioteca a migrar y obtenci�n de base meran correspondiente
2. Exportaci�n de registros de documentos y conversi�n a MARC21
3. Exportaci�n de registros de usuarios y conversi�n a estructura KOHA (formato CSV)
4. Exportaci�n de transacciones de pr�stamo activas y conversi�n a estructura de importaci�n de KOHA (formato Koc)
5. Importaci�n en KOHA de prueba de 2, 3 y 4
6. Uso por parte de la biblioteca para detectar errores, conocer el sistema y probar mecanismos
7. Adecuaciones necesarias e importaci�n final en KOHA de producci�n

2. Exportaci�n registros de documentos y conversi�n a MARC21[1]

? Extraer de la base mysql la tabla indice_busqueda, la columna marc_record usando el phpMyAdmin
? Exportar la consulta SELECT marc_record FROM `indice_busqueda` usando formato CSV y m�todo personalizado
? En la planilla de opciones de exportaci�n personalizada, eliminar todos los separadores de campo, columna y escape (NO PONER NADA), y generar un archivo de texto csv con el contenido de cada celda una debajo de otra, sin delimitador de columna ni campo, ni etiqueta.
? Luego procesar el archivo por fuera y sacar todos los enter (o eliminar luego del yaz la l�nea que muestra el enter como bad byte).

? Pasar yaz_marcdump de la siguiente manera
yaz-marcdump -i marc -o line indice_busqueda.csv > marc.txt
y convertir el archivo a legible por humanos

EJEMPLO DE DOS REGISTROS DEL ARCHIVO RESULTANTE
01184 	2200373   4500
080	$a D231
100	$a Denissen, Harry $b   $c   $d
111	$a   $d   $n
245	$a La porcelana en odontolog�a est�tica $b
500	$a
520	$a
534	$a
650	$a INCRUSTACIONES-OPERATORIA DENTAL
653	$a
700	$a Lubreto, Antonio $b   $c   $d
856	$u
020	$a 88-299-0840-1
041	$a Espa�ol
043	$c Argentina
245	$h Impreso en papel
250	$a
260	$a La Plata $b U.N.L.P. $c 1997
300	$a  114 p. $b  il. byn. fot. byn. $c
440	$p   $v
490	$a   $v
505	$a   $g   $t
900	$b Monogr�fico
910	$a Libro
900	$g Bibliofolp $h   $i
995	$a   $c Facultad de Odontolog�a $d Facultad de Odontolog�a $e Disponible $f DOO-LIB-003963 $m   $o Sala de Lectura $p   $t MD-F4-C7 $u
900	$g Bibliofolp $h   $i
995	$a   $c Facultad de Odontolog�a $d Facultad de Odontolog�a $e Disponible $f DOO-LIB-003970 $m   $o Domiciliario $p   $t MD-F4-C7 $u
900	$g Bibliofolp $h   $i
995	$a   $c Facultad de Odontolog�a $d Facultad de Odontolog�a $e Disponible $f DOO-LIB-003971 $m   $o Domiciliario $p   $t MD-F4-C7 $u

<!-- Skipping bad byte 10 (0x0A) at offset 249200 (0x3cd70) -->
00985 	2200349   4500
080	$a D071
100	$a Mackenzie, Richard S. $b   $c   $d
111	$a   $d   $n
245	$a An�lisis de la ense�anza en educaci�n profesional $b
500	$a
520	$a
534	$a
650	$a EDUCACI�N PROFESIONAL-ENSE�ANZA
653	$a
700	$a Pomes, Carlos E. $b   $c   $d   $e Traductor
856	$u
020	$a
041	$a Espa�ol
043	$c Guatemala
245	$h Impreso en papel
250	$a
260	$a Guatemala $b  Alafo $c 1975
300	$a  112 p. $b   $c
440	$p   $v
490	$a   $v
505	$a   $g   $t
900	$b Monogr�fico
910	$a Libro
900	$g Bibliofolp
995	$c Facultad de Odontolog�a $d Facultad de Odontolog�a $e Disponible $f DOO-LIB-002483 $o Sala de Lectura $t MD-F1-C3
900	$g BIBLIOFOLP
995	$c Facultad de Odontolog�a $d Facultad de Odontolog�a $e Disponible $f DOO-LIB-002591 $o Domiciliario $t MD-F1-C3

? Limpiar completamente el archivo:
? cuando aparezca $caracter espacio espacio espacio, eliminar todos esos caracteres (son subcampos vac�os)
? eliminar todas las l�neas que terminen con (espacio espacio espacio enter). Son las vac�as

EJEMPLO DE CARACTERES A ELIMINAR (LOS ESPACIOS NO LOS PUEDO SELECCIONAR PERO EST�N AHI)
856	$u
020	$a
041	$a Espa�ol
100	$a Mackenzie, Richard S. $b   $c   $d

? Sobre el archivo resultante, hay que procesar los registros y generar un nuevo archivo con la salida final.
? Leer cada registro (se identifica su final con una l�nea en blanco) y determinar si contiene NIVELES, que deben deshacerse para lograr un registro sin niveles. Esto se determina con la presencia de m�s de una ocurrencia del campo 910 en un registro.

EJEMPLO DE UN REGISTRO CON NIVELES (DEBEN QUEDAR 3 REGISTROS EN LA SALIDA CORREGIDA) YA SE LIMPIARON EN EL PASO ANTERIOR

08669 	2201885   4500
080	$a D11
100	$a Fig�n, Mario Eduardo $b   $c   $d
245	$a Anatom�a odontol�gica funcional y aplicada $b
500	$a  Sede Berisso-5761,5762
520	$a  Tal como se espera de un manual para estudiantes y de un texto de consulta para graduados, esta obra desarrolla pr�cticamente to das las materias cl�nicas y quir�rgicas de la odontolog�a con orden, claridad y rigor.  Responde a los actuales conceptos funcionales de la anatom�a odontol�gica y no se limita a su ministrar informaci�n te�rica, sino que, adem�s, tiene su fundamento en el ejercicio profesional.  Al brindar esta nueva s�ntesis b�sica e incluir cap�tulos in�ditos y otros actualizados, los autores lo gran su prop�sito de servir a quienes deben ce�irse a los progra mas de estudio vigentes en las facultades latinoamericanas.  Este texto de anatom�a orocervicofacial y dentaria est� encarado desde un doble aspecto: el de la funcionalidad y el de sus aplicaciones.  Adem�s, los a�os entregados a la investigaci�n y a la docencia permiten a los autores ahondar con claridad y precisi�n en los temas problem�ticos, a la luz de un enfoque interdisciplinario.  Los primeros seis cap�tulos est�n dedicados al conocimiento de las formaciones osteoarticulares, musculares, linf�ticas y nerviosas vinculadas con estructuras bucodentales. Los tres siguientes desarrollan su estudio descriptivo, topogr�fico y funcional. Y el d�cimo comprende temas conectados con las principales actividades de la odontolog�a, tales como cirug�a, pr�tesis, radiolog�a, cl�nica, traumatolog�a, etc�tera.
650	$a ANATOM�A DENTARIA
700	$a Garino, Ricardo Rodolfo $b   $c   $d
041	$a Espa�ol
043	$c Argentina
245	$h Impreso en papel
260	$a Buenos Aires $b El Ateneo $c 1978
300	$a  518 p. $b  il. byn $c
900	$b Monogr�fico
910	$a Libro
900	$g Bibliofolp
995	$c Facultad de Odontolog�a $d Facultad de Odontolog�a $e Disponible $f DOO-LIB-002724 $o Domiciliario $t MD-F1-C9
900	$g Bibliofolp
995	$c Facultad de Odontolog�a $d Facultad de Odontolog�a $e Disponible $f DOO-LIB-002795 $o Domiciliario $t MD-F1-C9
900	$g Bibliofolp
995	$c Facultad de Odontolog�a $d Facultad de Odontolog�a $e Disponible $f DOO-LIB-003225 $o Domiciliario $t MD-F1-C9
041	$a Espa�ol
043	$c Argentina
245	$h Impreso en papel
250	$a 2a. ed.
260	$a Buenos Aires $b El Ateneo $c 1988
300	$a  xiv;518 p. $b  il. byn $c
900	$b Monogr�fico
910	$a Libro
900	$g Bibliofolp
995	$c Facultad de Odontolog�a $d Facultad de Odontolog�a $e Disponible $f DOO-LIB-003719 $o Domiciliario $t MD-F1-C9
900	$g GFC $h   $i
995	$a   $c Facultad de Odontolog�a $d Facultad de Odontolog�a $e Baja $f DOO-LIB-003750 $m   $o Domiciliario $p   $t MD-F1-C9 $u  Dado de baja por deterioro 23/09/2019
020	$a  950-02-0125-9
041	$a Espa�ol
043	$c Argentina
245	$h Impreso en papel
250	$a 2a. ed
260	$a Buenos Aires $b El Ateneo $c 1992
300	$a   xiv;518 p. $b  il. byn $c
900	$b Monogr�fico
910	$a Libro
900	$g Bibliofolp
995	$c Facultad de Odontolog�a $d Facultad de Odontolog�a $e Disponible $f DOO-LIB-003779 $o Domiciliario $t MD-F1-C9
900	$g Bibliofolp
995	$c Facultad de Odontolog�a $d Facultad de Odontolog�a $e Disponible $f DOO-LIB-003825 $o Domiciliario $t MD-F1-C9

COMO QUEDAN LOS REGISTROS CORREGIDOS
PRIMER REGISTRO
08669 	2201885   4500
080	$a D11
100	$a Fig�n, Mario Eduardo $b   $c   $d
245	$a Anatom�a odontol�gica funcional y aplicada $b
500	$a  Sede Berisso-5761,5762
520	$a  Tal como se espera de un manual para estudiantes y de un texto de consulta para graduados, esta obra desarrolla pr�cticamente to das las materias cl�nicas y quir�rgicas de la odontolog�a con orden, claridad y rigor.  Responde a los actuales conceptos funcionales de la anatom�a odontol�gica y no se limita a su ministrar informaci�n te�rica, sino que, adem�s, tiene su fundamento en el ejercicio profesional.  Al brindar esta nueva s�ntesis b�sica e incluir cap�tulos in�ditos y otros actualizados, los autores lo gran su prop�sito de servir a quienes deben ce�irse a los progra mas de estudio vigentes en las facultades latinoamericanas.  Este texto de anatom�a orocervicofacial y dentaria est� encarado desde un doble aspecto: el de la funcionalidad y el de sus aplicaciones.  Adem�s, los a�os entregados a la investigaci�n y a la docencia permiten a los autores ahondar con claridad y precisi�n en los temas problem�ticos, a la luz de un enfoque interdisciplinario.  Los primeros seis cap�tulos est�n dedicados al conocimiento de las formaciones osteoarticulares, musculares, linf�ticas y nerviosas vinculadas con estructuras bucodentales. Los tres siguientes desarrollan su estudio descriptivo, topogr�fico y funcional. Y el d�cimo comprende temas conectados con las principales actividades de la odontolog�a, tales como cirug�a, pr�tesis, radiolog�a, cl�nica, traumatolog�a, etc�tera.
650	$a ANATOM�A DENTARIA
700	$a Garino, Ricardo Rodolfo $b   $c   $d
041	$a Espa�ol
043	$c Argentina
245	$h Impreso en papel
260	$a Buenos Aires $b El Ateneo $c 1978
300	$a  518 p. $b  il. byn $c
900	$b Monogr�fico
910	$a Libro
900	$g Bibliofolp
995	$c Facultad de Odontolog�a $d Facultad de Odontolog�a $e Disponible $f DOO-LIB-002724 $o Domiciliario $t MD-F1-C9
900	$g Bibliofolp
995	$c Facultad de Odontolog�a $d Facultad de Odontolog�a $e Disponible $f DOO-LIB-002795 $o Domiciliario $t MD-F1-C9
900	$g Bibliofolp
995	$c Facultad de Odontolog�a $d Facultad de Odontolog�a $e Disponible $f DOO-LIB-003225 $o Domiciliario $t MD-F1-C9

SEGUNDO REGISTRO
08669 	2201885   4500
080	$a D11
100	$a Fig�n, Mario Eduardo $b   $c   $d
245	$a Anatom�a odontol�gica funcional y aplicada $b
500	$a  Sede Berisso-5761,5762
520	$a  Tal como se espera de un manual para estudiantes y de un texto de consulta para graduados, esta obra desarrolla pr�cticamente to das las materias cl�nicas y quir�rgicas de la odontolog�a con orden, claridad y rigor.  Responde a los actuales conceptos funcionales de la anatom�a odontol�gica y no se limita a su ministrar informaci�n te�rica, sino que, adem�s, tiene su fundamento en el ejercicio profesional.  Al brindar esta nueva s�ntesis b�sica e incluir cap�tulos in�ditos y otros actualizados, los autores lo gran su prop�sito de servir a quienes deben ce�irse a los progra mas de estudio vigentes en las facultades latinoamericanas.  Este texto de anatom�a orocervicofacial y dentaria est� encarado desde un doble aspecto: el de la funcionalidad y el de sus aplicaciones.  Adem�s, los a�os entregados a la investigaci�n y a la docencia permiten a los autores ahondar con claridad y precisi�n en los temas problem�ticos, a la luz de un enfoque interdisciplinario.  Los primeros seis cap�tulos est�n dedicados al conocimiento de las formaciones osteoarticulares, musculares, linf�ticas y nerviosas vinculadas con estructuras bucodentales. Los tres siguientes desarrollan su estudio descriptivo, topogr�fico y funcional. Y el d�cimo comprende temas conectados con las principales actividades de la odontolog�a, tales como cirug�a, pr�tesis, radiolog�a, cl�nica, traumatolog�a, etc�tera.
650	$a ANATOM�A DENTARIA
700	$a Garino, Ricardo Rodolfo $b   $c   $d
041	$a Espa�ol
043	$c Argentina
245	$h Impreso en papel
250	$a 2a. ed.
260	$a Buenos Aires $b El Ateneo $c 1988
300	$a  xiv;518 p. $b  il. byn $c
900	$b Monogr�fico
910	$a Libro
900	$g Bibliofolp
995	$c Facultad de Odontolog�a $d Facultad de Odontolog�a $e Disponible $f DOO-LIB-003719 $o Domiciliario $t MD-F1-C9
900	$g GFC $h   $i
995	$a   $c Facultad de Odontolog�a $d Facultad de Odontolog�a $e Baja $f DOO-LIB-003750 $m   $o Domiciliario $p   $t MD-F1-C9 $u  Dado de baja por deterioro 23/09/2019

TERCER REGISTRO
08669 	2201885   4500
080	$a D11
100	$a Fig�n, Mario Eduardo $b   $c   $d
245	$a Anatom�a odontol�gica funcional y aplicada $b
500	$a  Sede Berisso-5761,5762
520	$a  Tal como se espera de un manual para estudiantes y de un texto de consulta para graduados, esta obra desarrolla pr�cticamente to das las materias cl�nicas y quir�rgicas de la odontolog�a con orden, claridad y rigor.  Responde a los actuales conceptos funcionales de la anatom�a odontol�gica y no se limita a su ministrar informaci�n te�rica, sino que, adem�s, tiene su fundamento en el ejercicio profesional.  Al brindar esta nueva s�ntesis b�sica e incluir cap�tulos in�ditos y otros actualizados, los autores lo gran su prop�sito de servir a quienes deben ce�irse a los progra mas de estudio vigentes en las facultades latinoamericanas.  Este texto de anatom�a orocervicofacial y dentaria est� encarado desde un doble aspecto: el de la funcionalidad y el de sus aplicaciones.  Adem�s, los a�os entregados a la investigaci�n y a la docencia permiten a los autores ahondar con claridad y precisi�n en los temas problem�ticos, a la luz de un enfoque interdisciplinario.  Los primeros seis cap�tulos est�n dedicados al conocimiento de las formaciones osteoarticulares, musculares, linf�ticas y nerviosas vinculadas con estructuras bucodentales. Los tres siguientes desarrollan su estudio descriptivo, topogr�fico y funcional. Y el d�cimo comprende temas conectados con las principales actividades de la odontolog�a, tales como cirug�a, pr�tesis, radiolog�a, cl�nica, traumatolog�a, etc�tera.
650	$a ANATOM�A DENTARIA
700	$a Garino, Ricardo Rodolfo $b   $c   $d
020	$a  950-02-0125-9
041	$a Espa�ol
043	$c Argentina
245	$h Impreso en papel
250	$a 2a. ed
260	$a Buenos Aires $b El Ateneo $c 1992
300	$a   xiv;518 p. $b  il. byn $c
900	$b Monogr�fico
910	$a Libro
900	$g Bibliofolp
995	$c Facultad de Odontolog�a $d Facultad de Odontolog�a $e Disponible $f DOO-LIB-003779 $o Domiciliario $t MD-F1-C9
900	$g Bibliofolp
995	$c Facultad de Odontolog�a $d Facultad de Odontolog�a $e Disponible $f DOO-LIB-003825 $o Domiciliario $t MD-F1-C9


? Si hay m�s de una ocurrencia del campo 910, procesar el registro l�nea por l�nea y
1. Aislar los campos PADRE del registro en proceso (desde el inicio del registro hasta la primera ocurrencia del campo 020 o 041)
2. Aislar cada NIVEL (desde el campo 020 o 041 hasta la siguiente ocurrencia del mismo campo y el �ltimo hasta una l�nea en blanco)
3. OPCIONAL tratando de arreglar las obras en varios tomos, determinar si cada nivel tiene presente el campo 505, si lo tiene, pegar s�lo el campo 505 y los campos 995, de cada NIVEL de ese registro con el mismo PADRE (no se separan los registros).
4. SI no est� presente el campo 505, pegar en la salida, los campos PADRE con cada grupo de NIVEL, repitiendo el PADRE para cada NIVEL, y separando con una l�nea en blanco cada registro resultante
? Si no hay m�s de una ocurrencia del campo 910, entonces procesar el registro completo y pegarlo en la salida final.

? Al archivo con la salida final,
? Reformatear el campo 995, elimin�ndolo y reemplaz�ndolo con un campo con etiqueta 952, los siguientes valores fijos 952	$a DOO $b DOO $y BK
? y luego $f pasa a $p, $o pasa a $7 si dice Sala de lectura va 1 si dice domiciliario va 0, $t pasa a $o

995	$c Facultad de Odontolog�a $d Facultad de Odontolog�a $e Disponible $f DOO-LIB-003779 $o Domiciliario $t MD-F1-C9
TIENE QUE QUEDAR
952	$a DOO $b DOO $7 0 $i DOO-LIB-003779 $p DOO-LIB-003779 $o MD-F1-C9 $y BK

? Sacar un listado de todas las apariciones de 041 y 043 para armar gizmo de conversi�n a valores normalizados FALTA DESCRIBIR LOS CAMBIOS MASIVOS
? Sacar un listado de todas las apariciones de 260 $c para armar las normalizaciones de fechas FALTA DESCRIBIR LOS CAMBIOS MASIVOS
? Sacar un listado de 900 y 910 para ver los tipos de documentos presentes y armar la cabecera y el 008 FALTA DESCRIBIR DETALLE

? Generar para cada registro la cabecera y el 008

Bueno, todo esto me resulta dif�cil de entender sin ver las tablas y los datos ... si pensamos en que esto se podr�a transformar en un instructivo, tal vez valga la pena armarlo un poquito mejor. Si me lo explican detalladamente y con ejemplos, lo puedo redactar :-)
